@page "/counter"
@inject IJSRuntime JSRuntime;

<h1>Counter</h1>

<p>Current count: @_currentCount</p>

<div class="slidecontainer" style="margin-bottom: 20px;">
    <input type="range" min="25" max="300" value="300" class="slider" id="myRange" style="width:100%;">
</div>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    int _currentCount = 0;

    [Inject]
    LocalStorage _localStorage { get; set; }

    async void IncrementCount()
    {
        _currentCount++;
        await _localStorage.SetItem("Counter", _currentCount.ToString());
    }

    protected override async Task OnInitializedAsync()
    {
        var countText = await _localStorage.GetItem("Counter");
        if(Int32.TryParse(countText, out var count)){
            _currentCount = count;
        }
    }
}
